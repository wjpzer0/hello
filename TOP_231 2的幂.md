# 题目

给定一个整数，编写一个函数来判断它是否是 2 的幂次方。

示例 1:

```
输入: 1
输出: true
解释: 2^0 = 1
```


示例 2:

```
输入: 16
输出: true
解释: 2^4 = 16
```


示例 3:

```
输入: 218
输出: false
```

## 我的解法

```python
class Solution:
    def isPowerOfTwo(self, n: int) -> bool:
        i = 1
        while i < n:
            i *= 2
        if i == n:
            return True 
        else:
            return False
```

恩O(log*N*)

## 其他解法

### 暴力破解

```python
class Solution(object):
    def isPowerOfTwo(self, n):
        if n == 0:
            return False
        while n % 2 == 0:
            n /= 2
        return n == 1
```

时间复杂度为O(log*N*)

### 获取二进制中最右边的 1

```python
class Solution(object):
    def isPowerOfTwo(self, n):
        if n == 0:
            return False
        return n & (-n) == n
```

#### 算法

**获取最右边的 1：**
首先讨论为什么 x & (-x) 可以获取到二进制中最右边的 1，且其它位设置为 0。

在补码表示法中，−x=¬x+1。换句话说，要计算 -x，则要将 x 所有位取反再加 1。

在二进制表示中，¬x+1 表示将该 1 移动到 ¬x 中最右边的 0 的位置上，并将所有较低位的位设置为 0。而 ¬x 最右边的 0 的位置对应于 x 最右边的 1 的位置。

总而言之，−x=¬x+1，此操作将 x 所有位取反，但是最右边的 1 除外。

![在这里插入图片描述](https://pic.leetcode-cn.com/7e75ee7058fc41c71ee811dc76c885b1b7f46088fe947aede0cf64b44ff676be-file_1578972895656)

因此，*x* 和 −*x* 只有一个共同点：最右边的 1。这说明 `x & (-x)` 将保留最右边的 1。并将其他的位设置为 0。

![在这里插入图片描述](https://pic.leetcode-cn.com/a76c49d03c991d7aa1c07ac86f10e11769791c6b1d302f0b9fef35784df1e3b1-file_1578972895675)

**检测是否为 2 的幂：**

我们通过 x & (-x) 保留了最右边的 1，并将其他位设置为 0 若 x 为 2 的幂，则它的二进制表示中只包含一个 1，则有 x & (-x) = x。

若 x 不是 2 的幂，则在二进制表示中存在其他 1，因此 x & (-x) != x。

因此判断是否为 2 的幂的关键是：判断 x & (-x) == x。

![在这里插入图片描述](https://pic.leetcode-cn.com/09b70f985dc27c184181119ea52c7a8ece71519d44c130094b41863e2821a0ec-file_1578972895611)

#### 复杂度分析

- 时间复杂度：O(1)。
- 空间复杂度：O(1)。

### 去除二进制中最右边的 1

```python
class Solution(object):
    def isPowerOfTwo(self, n):
        if n == 0:
            return False
        return n & (n - 1) == 0
```

#### 解题思路

若 n = 2^x且 x 为自然数（即 n 为 2 的幂），则一定满足以下条件：

1. 恒有 n & (n - 1) == 0，这是因为：
	- n 二进制最高位为 1，其余所有位为 0；
	- n - 1 二进制最高位为 0，其余所有位为 1；
2. 一定满足 n > 0。

因此，通过 n > 0 且 n & (n - 1) == 0 即可判定是否满足 n = 2^x。

| 2^x  | n    | n - 1 | n & (n - 1)          |
| ---- | ---- | ----- | -------------------- |
| 2^0  | 0001 | 0000  | (0001) & (0000) == 0 |
| 2^1  | 0010 | 0001  | (0010) & (0001) == 0 |
| 2^2  | 0100 | 0011  | (0100) & (0011) == 0 |
| 2^3  | 1000 | 0111  | (1000) & (0111) == 0 |
| ...  | ...  | ...   | ...                  |
|      |      |       |                      |

#### 复杂度分析

- 时间复杂度：O(1)。
- 空间复杂度：O(1)。