# 题目

给你一个字符串 `date` ，按 `YYYY-MM-DD` 格式表示一个 [现行公元纪年法](https://baike.baidu.com/item/公元/17855) 日期。请你计算并返回该日期是当年的第几天。

通常情况下，我们认为 1 月 1 日是每年的第 1 天，1 月 2 日是每年的第 2 天，依此类推。每个月的天数与现行公元纪年法（格里高利历）一致。

**示例 1：**

```
输入：date = "2019-01-09"
输出：9
```

**示例 2：**

```
输入：date = "2019-02-10"
输出：41
```

**示例 3：**

```
输入：date = "2003-03-01"
输出：60
```

**示例 4：**

```
输入：date = "2004-03-01"
输出：61
```

**提示：**

- `date.length == 10`
- `date[4] == date[7] == '-'`，其他的 `date[i]` 都是数字
- `date` 表示的范围从 1900 年 1 月 1 日至 2019 年 12 月 31 日

## 我的解法

代码还可以优化！

```python
class Solution:
    def dayOfYear(self, date: str) -> int:
        map = {1:31, 2:28, 3:31, 4:30, 5:31, 6:30, 7:31, 8:31, 9:30, 10:31, 11:30, 12:31}
        year = int(date[:4])
        month = int(date[5:7])
        day = int(date[8:])
        ans = 0
        if year % 4 == 0 and month > 2:
            ans += 1
        for i in range(1, month):
            ans += map[i]
        ans += day
        return ans
```

## 其他解法

### 直接计算

```c++
class Solution {
public:
    int dayOfYear(string date) {
        int year = stoi(date.substr(0, 4));
        int month = stoi(date.substr(5, 2));
        int day = stoi(date.substr(8, 2));

        int amount[] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        if (year % 400 == 0 || (year % 4 == 0 && year % 100 != 0)) {
            ++amount[1];
        }

        int ans = 0;
        for (int i = 0; i < month - 1; ++i) {
            ans += amount[i];
        }
        return ans + day;
    }
};
```

```java
class Solution {
    public int dayOfYear(String date) {
        int year = Integer.parseInt(date.substring(0, 4));
        int month = Integer.parseInt(date.substring(5, 7));
        int day = Integer.parseInt(date.substring(8));

        int[] amount = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        if (year % 400 == 0 || (year % 4 == 0 && year % 100 != 0)) {
            ++amount[1];
        }

        int ans = 0;
        for (int i = 0; i < month - 1; ++i) {
            ans += amount[i];
        }
        return ans + day;
    }
}
```

```python
class Solution:
    def dayOfYear(self, date: str) -> int:
        year, month, day = [int(x) for x in date.split("-")]

        amount = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
        if year % 400 == 0 or (year % 4 == 0 and year % 100 != 0):
            amount[1] += 1

        ans = sum(amount[:month - 1])
        return ans + day
```

#### 思路与算法

我们首先从给定的字符串 $\textit{date}$ 中提取出年$ \textit{year}$，月 $\textit{month}$ 以及日 $\textit{day}$。

这样一来，我们就可以首先统计到 $\textit{month}$ 的前一个月为止的天数。这一部分只需要使用一个长度为 12 的数组，预先记录每一个月的天数，再进行累加即可。随后我们将答案再加上 $\textit{day}$，就可以得到 $\textit{date}$ 是一年中的第几天。

需要注意的是，如果$ \textit{year}$ 是闰年，那么二月份会多出一天。闰年的判定方法为：$\textit{year}$ 是 400 的倍数，或者 $\textit{year}$ 是 4 的倍数且不是 100 的倍数。

#### 复杂度分析

- 时间复杂度：O(1)。我们将字符串的长度（定值 7）以及一年的月份数 12 视为常数。
- 空间复杂度：O(1)。